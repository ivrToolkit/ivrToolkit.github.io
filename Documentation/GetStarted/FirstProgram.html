---
layout: docs
title: Test
---
<script type="text/javascript">
    var intro = $("#first");
    intro.addClass("active");
    var parentDiv = intro.closest("div");
    parentDiv.addClass("show")
</script>

<div class="bd-intro ps-lg-4">
    <h1 class="bd-title" id="content">Your First SIP Program</h1>
    <p class="bd-lead">This tutorial will step you through creating a windows service that listens for calls on two SIP lines.</p>

</div>

<div class="bd-toc mt-4 mb-5 my-md-0 ps-xl-3 mb-lg-5 text-muted">
    <strong class="d-block h6 my-2 pb-2 border-bottom">On this page</strong>
    <nav id="TableOfContents">
        <ul>
            <li><a href="#test">Create Application Stub</a>
            <li><a href="#nuget">Add Packages</a></li>
            <li><a href="#drivers">Make it a Windows Service</a>
        </ul>
    </nav>
</div>

<div class="bd-content ps-lg-4">





    <h2 id="starter-template">Create the application stub<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="#"
            href="#starter-template" style="padding-left: 0.375em;"></a></h2>
    <p>Lets start by creating a simple Windows Service. I am going to assume you know how to use the dotnet command line.</p>


    <div class="bd-clipboard"><button type="button" class="btn-clipboard" title=""
            data-bs-original-title="Copy to clipboard">Copy</button></div>
    <div class="highlight">
<pre>md MyFirstSipApp
cd MyFirstSipApp
dotnet new sln
dotnet new worker --output MyFirstSipApp --framework net5.0
dotnet sln add MyFirstSipApp</pre>
    </div>

    <h2 id="starter-template">Add Packages<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="#"
        href="#starter-template" style="padding-left: 0.375em;"></a></h2>  
<p>Add the ivrToolkit nuget packages you want to use. We will be using SIP.</p>



    <div class="bd-clipboard"><button type="button" class="btn-clipboard" title=""
        data-bs-original-title="Copy to clipboard">Copy</button></div>
<div class="highlight">
    <pre>
cd MyFirstSipApp
dotnet add package ivrToolkit.Core -v 5.0.0-beta-06
dotnet add package ivrToolkit.Plugin.Dialogic.Common -v 5.0.0-beta-06
dotnet add package ivrToolkit.Plugin.Dialogic.sip -v 5.0.0-beta-06</pre>
</div>

<h2 id="starter-template">Make it a Windows Service<a class="anchorjs-link " aria-label="Anchor" data-anchorjs-icon="#"
    href="#starter-template" style="padding-left: 0.375em;"></a></h2>  
<p>FYI, this app will run as a console app as well.</p>

<p>Add the windows service nuget package</p>

<div class="bd-clipboard"><button type="button" class="btn-clipboard" title=""
    data-bs-original-title="Copy to clipboard">Copy</button></div>
<div class="highlight">
    <pre>dotnet add package Microsoft.Extensions.Hosting.WindowsServices</pre>
        </div>

        <p>add UseWIndowsService() to program.cs</p>

        <div class="bd-clipboard"><button type="button" class="btn-clipboard" title=""
            data-bs-original-title="Copy to clipboard">Copy</button></div>
        <div class="highlight">
            <pre><span style="color:blue;">public</span>&nbsp;<span style="color:blue;">static</span>&nbsp;IHostBuilder&nbsp;<span style="color:#74531f;">CreateHostBuilder</span>(<span style="color:blue;">string</span>[]&nbsp;<span style="color:#1f377f;">args</span>)&nbsp;=&gt;
                &nbsp;&nbsp;&nbsp;&nbsp;Host.CreateDefaultBuilder(args)
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>.UseWindowsService()</strong>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.ConfigureServices((<span style="color:#1f377f;">hostContext</span>,&nbsp;<span style="color:#1f377f;">services</span>)&nbsp;=&gt;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;services.AddHostedService&lt;Worker&gt;();
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
                </pre>
                </div>
        
        




</div>